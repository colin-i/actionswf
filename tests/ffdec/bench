
f=../../dev/flags.oh
srch () {
	b=`cat $f | grep -Po "(?<=^const $1=)[^ ]*"`
	if [ `expr substr $b 1 1` != 0 ]; then
		b=`echo $b | sed "s/|/ /g"`
		for c in $b; do
			srch $c
		done
		return
	fi
	z="${z} ${b}"
}
step () {
	com=$1;shift
	com2=$1;shift
	echo "$@"
	z=
	for a in $@; do
		srch $a
		z="$z "
	done
	n=$(echo $z | sed "s/ /|/g")
	n="\$((${n}))"
	n=`eval echo $n`
	${com} "${com2} 0x`printf "%x" $n` x x"
}

#OCOMP
#ld
